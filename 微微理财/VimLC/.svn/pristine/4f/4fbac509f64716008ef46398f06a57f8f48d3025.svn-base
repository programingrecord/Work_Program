//
//  MSUTestCompleteController.m
//  VimLC
//
//  Created by 007 on 2018/2/5.
//  Copyright © 2018年 HM. All rights reserved.
//

#import "MSUTestCompleteController.h"
#import "MSUTestController.h"

#import "MSUStringTools.h"

@interface MSUTestCompleteController ()

@end

@implementation MSUTestCompleteController

- (void)viewDidLoad {
    [super viewDidLoad];
    // Do any additional setup after loading the view.
    
    self.title = @"风险测评";
    self.view.backgroundColor = WhiteColor;
    
    [self createCenterUI];
    
}

- (void)didReceiveMemoryWarning {
    [super didReceiveMemoryWarning];
    // Dispose of any resources that can be recreated.
}

#pragma mark - UI
- (void)createCenterUI{
    UILabel *titLab = [[UILabel alloc] init];
    titLab.frame = CGRectMake(35*kDeviceWidthScale, 28*kDeviceHeightScale, kDeviceWidth*0.5, 25);
    titLab.font = [UIFont systemFontOfSize:14];
    titLab.textColor = HEXCOLOR(0xbdbdbd);
    titLab.text = @"您的投资类型为";
    [self.view addSubview:titLab];
    
    NSString *styleStr;
    NSString *quesStr;
    NSString *anserStr;
    if (self.answerCode <= 5) {
        styleStr = @"保守型";
        quesStr = @"不能承担任何风险，保本，安全才是你最放心的产品";
        anserStr = @"米粒宝";
    } else if (self.answerCode > 5 && self.answerCode <= 10){
        styleStr = @"稳健型";
        quesStr = @"理财考虑的第一要素便是投资是否安全，稳健、谨慎是您最大特点，能承受一定的风险";
        anserStr = @"七天标";
    } else if (self.answerCode > 10 && self.answerCode <= 15){
        styleStr = @"理性型";
        quesStr = @"能够根据自身情况，合理分配资产，对于风险有一定的认知；会根据自身情况进行资产配置，合理搭配，投资不同的项目，同时也积极参加活动，提升投资收益。";
        anserStr = @"一月标";
    } else if (self.answerCode > 15 && self.answerCode <= 20){
        styleStr = @"冒险型";
        quesStr = @"偏爱极高的年化收益，冒险性高，建议一定要在保证资金安全的前提下，选择适当合理的高收益";
        anserStr = @"三月标";
    }
    
    UILabel *styleLab = [[UILabel alloc] init];
    styleLab.frame = CGRectMake(35*kDeviceWidthScale,titLab.bottom + 1*kDeviceHeightScale, kDeviceWidth*0.5, 45);
    styleLab.font = [UIFont systemFontOfSize:32];
    styleLab.textColor = HEXCOLOR(0xff4b1f);
    styleLab.text = styleStr;
    [self.view addSubview:styleLab];

    UILabel *quesLab = [[UILabel alloc] init];
    quesLab.text = quesStr;
    CGRect rectA = [MSUStringTools danamicGetHeightFromText:quesLab.text WithWidth:kDeviceWidth-72*kDeviceWidthScale font:16];
    quesLab.frame = CGRectMake(styleLab.left,styleLab.bottom + 29.5*kDeviceHeightScale, kDeviceWidth-72*kDeviceWidthScale, rectA.size.height);
    quesLab.numberOfLines = 0;
    quesLab.font = [UIFont systemFontOfSize:16];
    quesLab.textColor = HEXCOLOR(0x9b9b9b);
    [MSUStringTools changeLineSpaceForLabel:quesLab WithSpace:5];
    [self.view addSubview:quesLab];
    
    UILabel *answerLab = [[UILabel alloc] init];
    answerLab.frame = CGRectMake(35*kDeviceWidthScale,quesLab.bottom +  14.5*kDeviceHeightScale, kDeviceWidth-70*kDeviceWidthScale, 25);
    answerLab.font = [UIFont systemFontOfSize:16];
    answerLab.textColor = HEXCOLOR(0x9b9b9b);
    answerLab.attributedText = [MSUStringTools makeKeyWordAttributedWithSubText:anserStr inOrigiText:[NSString stringWithFormat:@"适合您的产品为：%@",anserStr] font:16 color:HEXCOLOR(0xff4b1f)];;
    [self.view addSubview:answerLab];
    
    UIButton *pushBtn = [UIButton buttonWithType:UIButtonTypeCustom];
    pushBtn.frame = CGRectMake(36*kDeviceWidthScale,answerLab.bottom + 88*kDeviceHeightScale, kDeviceWidth-72*kDeviceWidthScale, 49);
    pushBtn.clipsToBounds = YES;
    pushBtn.layer.cornerRadius = 49*0.5;
    pushBtn.layer.shouldRasterize = YES;
    pushBtn.layer.rasterizationScale = [UIScreen mainScreen].scale;
    pushBtn.backgroundColor = HEXCOLOR(0xfb6337);
    [pushBtn setTitle:@"去理财" forState:UIControlStateNormal];
    [pushBtn setTitleColor:WhiteColor forState:UIControlStateNormal];
    pushBtn.titleLabel.font = [UIFont systemFontOfSize:18];
    [self.view addSubview:pushBtn];
    [pushBtn addTarget:self action:@selector(pushBtnClick:) forControlEvents:UIControlEventTouchUpInside];
    
    UIButton *beforeBtn = [UIButton buttonWithType:UIButtonTypeCustom];
    beforeBtn.frame = CGRectMake(0, kDeviceHeight-34-22.5-64, kDeviceWidth, 22.5);
    [beforeBtn setTitle:@"重测" forState:UIControlStateNormal];
    beforeBtn.backgroundColor = WhiteColor;
    [beforeBtn setTitleColor:HEXCOLOR(0xff4b1f) forState:UIControlStateNormal];
    beforeBtn.titleLabel.font = [UIFont systemFontOfSize:16];
    [self.view addSubview:beforeBtn];
    [beforeBtn addTarget:self action:@selector(beforeBtnClick:) forControlEvents:UIControlEventTouchUpInside];
}


#pragma amrk - 点击事件
- (void)pushBtnClick:(UIButton *)sender{
    AppDelegate *jj = (AppDelegate *)[[UIApplication sharedApplication] delegate];
    [jj loadMainView];
    [jj.mainVC setSelectedIndex:1];
}

- (void)beforeBtnClick:(UIButton *)sender{
    for (UIViewController *ciewController in self.navigationController.viewControllers) {
        if ([ciewController isKindOfClass:[MSUTestController class]]) {
            [self.navigationController popToViewController:ciewController animated:YES];
        }
    }
}

/*
#pragma mark - Navigation

// In a storyboard-based application, you will often want to do a little preparation before navigation
- (void)prepareForSegue:(UIStoryboardSegue *)segue sender:(id)sender {
    // Get the new view controller using [segue destinationViewController].
    // Pass the selected object to the new view controller.
}
*/

@end
